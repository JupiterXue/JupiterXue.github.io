<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Grafana 条形图实践 | 木夜星空的个人博客</title>
  <link rel = 'canonical' href = 'http://jupiterxue.com/posts/2021-07-29-grafana-bar-chart/'>
  <meta name="description" content="东方不亮木星亮，黑了白昼有星空">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Grafana 条形图实践" />
<meta property="og:description" content="前言 可视化平台有很多，最重要的是选择符合业务需求的方案，费用低、学习曲线低、易于上手、集成性好这些都是加分项。众望所归，我选择了 Grafana。
特点 让我们康康 Grafana 是怎样的：
 免费。Grafana 是一个开源的独立日志分析和监视工具。 开发少可直接用。面向分析师和一般使用者，一般不需要做多少编码工作就能直接拿来分析数据、搭建可视化系统。 界面炫酷。来看看官网的展示 Grafana 官网概述 丰富集成。Grafana 是跨平台工具，它提供了与各种平台和数据库的集成，持 InfluxDB，AWS，MySQL，PostgreSQL 等。 用户交互体验好。展示连续实时监控指标（如 CPU 负载，内存）、对数据提供自定义实时警报、提供基于数据库及其查询语法的命令列界面。  准备工作-采集器 一个可视化平台，重要的是有数据来做支撑，像上面所说的数据库。本文采取具有灵活查询和实时报警构建的时序数据库 promethues 来作为数据管理端。
作为圣火的传人，promethues 有着各种采集器小弟，如服务器资源采集器 node-exporter、进程资源采集器 process-exporter、服务资源采集器 blackbox-exporter， 有了这些采集器就可以直接搭建起监控和警报
服务器监控 进程监控 服务监控 最后再配有 docker 微服务，你的监控和警报平台就能够一键部署起来了。 准备工作-定制化 有了各种采集器，其实能够满足大部分通用监控的需求，但往往我们的业务是不一样的，那么就需要进行定制。
用到了胶水语言 Python 在 promethues 的模块 promethues_client，就能开始定制了！
制作一个条形图 其实这个标题，我最先想取 “fuck the bar chart”，其他定制化的数据，表格、饼图、折线图都是能够在粗略熟悉 Grafana 后可以自己上手做的。
而这个条形图困扰了我整整一周的时间，各种找插件、换版本、调格式、选展示方式，都没有达到理想效果：
今天来彻底搞定这个问题！！
版本    工具 版本     Docker 1.13.1   Go 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://jupiterxue.com/posts/2021-07-29-grafana-bar-chart/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-29T09:56:39+08:00" />
<meta property="article:modified_time" content="2021-07-29T09:56:39+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Grafana 条形图实践"/>
<meta name="twitter:description" content="前言 可视化平台有很多，最重要的是选择符合业务需求的方案，费用低、学习曲线低、易于上手、集成性好这些都是加分项。众望所归，我选择了 Grafana。
特点 让我们康康 Grafana 是怎样的：
 免费。Grafana 是一个开源的独立日志分析和监视工具。 开发少可直接用。面向分析师和一般使用者，一般不需要做多少编码工作就能直接拿来分析数据、搭建可视化系统。 界面炫酷。来看看官网的展示 Grafana 官网概述 丰富集成。Grafana 是跨平台工具，它提供了与各种平台和数据库的集成，持 InfluxDB，AWS，MySQL，PostgreSQL 等。 用户交互体验好。展示连续实时监控指标（如 CPU 负载，内存）、对数据提供自定义实时警报、提供基于数据库及其查询语法的命令列界面。  准备工作-采集器 一个可视化平台，重要的是有数据来做支撑，像上面所说的数据库。本文采取具有灵活查询和实时报警构建的时序数据库 promethues 来作为数据管理端。
作为圣火的传人，promethues 有着各种采集器小弟，如服务器资源采集器 node-exporter、进程资源采集器 process-exporter、服务资源采集器 blackbox-exporter， 有了这些采集器就可以直接搭建起监控和警报
服务器监控 进程监控 服务监控 最后再配有 docker 微服务，你的监控和警报平台就能够一键部署起来了。 准备工作-定制化 有了各种采集器，其实能够满足大部分通用监控的需求，但往往我们的业务是不一样的，那么就需要进行定制。
用到了胶水语言 Python 在 promethues 的模块 promethues_client，就能开始定制了！
制作一个条形图 其实这个标题，我最先想取 “fuck the bar chart”，其他定制化的数据，表格、饼图、折线图都是能够在粗略熟悉 Grafana 后可以自己上手做的。
而这个条形图困扰了我整整一周的时间，各种找插件、换版本、调格式、选展示方式，都没有达到理想效果：
今天来彻底搞定这个问题！！
版本    工具 版本     Docker 1.13.1   Go 1."/>

  
  
    
  
  
  <link rel="stylesheet" href="http://jupiterxue.com/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="http://jupiterxue.com/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">主页</a></li>
         
        <li><a href="/posts">文章</a></li>
         
        <li><a href="/tags">归档</a></li>
         
        <li><a href="/about">关于</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" http://jupiterxue.com/posts/2021-07-28-python-replay/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="http://jupiterxue.com/posts/2021-08-02-learn-from-top-writer/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&text=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&title=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&is_video=false&description=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&title=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&title=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&name=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&description=%e5%89%8d%e8%a8%80%20%e5%8f%af%e8%a7%86%e5%8c%96%e5%b9%b3%e5%8f%b0%e6%9c%89%e5%be%88%e5%a4%9a%ef%bc%8c%e6%9c%80%e9%87%8d%e8%a6%81%e7%9a%84%e6%98%af%e9%80%89%e6%8b%a9%e7%ac%a6%e5%90%88%e4%b8%9a%e5%8a%a1%e9%9c%80%e6%b1%82%e7%9a%84%e6%96%b9%e6%a1%88%ef%bc%8c%e8%b4%b9%e7%94%a8%e4%bd%8e%e3%80%81%e5%ad%a6%e4%b9%a0%e6%9b%b2%e7%ba%bf%e4%bd%8e%e3%80%81%e6%98%93%e4%ba%8e%e4%b8%8a%e6%89%8b%e3%80%81%e9%9b%86%e6%88%90%e6%80%a7%e5%a5%bd%e8%bf%99%e4%ba%9b%e9%83%bd%e6%98%af%e5%8a%a0%e5%88%86%e9%a1%b9%e3%80%82%e4%bc%97%e6%9c%9b%e6%89%80%e5%bd%92%ef%bc%8c%e6%88%91%e9%80%89%e6%8b%a9%e4%ba%86%20Grafana%e3%80%82%0a%e7%89%b9%e7%82%b9%20%e8%ae%a9%e6%88%91%e4%bb%ac%e5%ba%b7%e5%ba%b7%20Grafana%20%e6%98%af%e6%80%8e%e6%a0%b7%e7%9a%84%ef%bc%9a%0a%20%e5%85%8d%e8%b4%b9%e3%80%82Grafana%20%e6%98%af%e4%b8%80%e4%b8%aa%e5%bc%80%e6%ba%90%e7%9a%84%e7%8b%ac%e7%ab%8b%e6%97%a5%e5%bf%97%e5%88%86%e6%9e%90%e5%92%8c%e7%9b%91%e8%a7%86%e5%b7%a5%e5%85%b7%e3%80%82%20%e5%bc%80%e5%8f%91%e5%b0%91%e5%8f%af%e7%9b%b4%e6%8e%a5%e7%94%a8%e3%80%82%e9%9d%a2%e5%90%91%e5%88%86%e6%9e%90%e5%b8%88%e5%92%8c%e4%b8%80%e8%88%ac%e4%bd%bf%e7%94%a8%e8%80%85%ef%bc%8c%e4%b8%80%e8%88%ac%e4%b8%8d%e9%9c%80%e8%a6%81%e5%81%9a%e5%a4%9a%e5%b0%91%e7%bc%96%e7%a0%81%e5%b7%a5%e4%bd%9c%e5%b0%b1%e8%83%bd%e7%9b%b4%e6%8e%a5%e6%8b%bf%e6%9d%a5%e5%88%86%e6%9e%90%e6%95%b0%e6%8d%ae%e3%80%81%e6%90%ad%e5%bb%ba%e5%8f%af%e8%a7%86%e5%8c%96%e7%b3%bb%e7%bb%9f%e3%80%82%20%e7%95%8c%e9%9d%a2%e7%82%ab%e9%85%b7%e3%80%82%e6%9d%a5%e7%9c%8b%e7%9c%8b%e5%ae%98%e7%bd%91%e7%9a%84%e5%b1%95%e7%a4%ba%20Grafana%20%e5%ae%98%e7%bd%91%e6%a6%82%e8%bf%b0%20%e4%b8%b0%e5%af%8c%e9%9b%86%e6%88%90%e3%80%82Grafana%20%e6%98%af%e8%b7%a8%e5%b9%b3%e5%8f%b0%e5%b7%a5%e5%85%b7%ef%bc%8c%e5%ae%83%e6%8f%90%e4%be%9b%e4%ba%86%e4%b8%8e%e5%90%84%e7%a7%8d%e5%b9%b3%e5%8f%b0%e5%92%8c%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e9%9b%86%e6%88%90%ef%bc%8c%e6%8c%81%20InfluxDB%ef%bc%8cAWS%ef%bc%8cMySQL%ef%bc%8cPostgreSQL%20%e7%ad%89%e3%80%82%20%e7%94%a8%e6%88%b7%e4%ba%a4%e4%ba%92%e4%bd%93%e9%aa%8c%e5%a5%bd%e3%80%82%e5%b1%95%e7%a4%ba%e8%bf%9e%e7%bb%ad%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7%e6%8c%87%e6%a0%87%ef%bc%88%e5%a6%82%20CPU%20%e8%b4%9f%e8%bd%bd%ef%bc%8c%e5%86%85%e5%ad%98%ef%bc%89%e3%80%81%e5%af%b9%e6%95%b0%e6%8d%ae%e6%8f%90%e4%be%9b%e8%87%aa%e5%ae%9a%e4%b9%89%e5%ae%9e%e6%97%b6%e8%ad%a6%e6%8a%a5%e3%80%81%e6%8f%90%e4%be%9b%e5%9f%ba%e4%ba%8e%e6%95%b0%e6%8d%ae%e5%ba%93%e5%8f%8a%e5%85%b6%e6%9f%a5%e8%af%a2%e8%af%ad%e6%b3%95%e7%9a%84%e5%91%bd%e4%bb%a4%e5%88%97%e7%95%8c%e9%9d%a2%e3%80%82%20%20%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c-%e9%87%87%e9%9b%86%e5%99%a8%20%e4%b8%80%e4%b8%aa%e5%8f%af%e8%a7%86%e5%8c%96%e5%b9%b3%e5%8f%b0%ef%bc%8c%e9%87%8d%e8%a6%81%e7%9a%84%e6%98%af%e6%9c%89%e6%95%b0%e6%8d%ae%e6%9d%a5%e5%81%9a%e6%94%af%e6%92%91%ef%bc%8c%e5%83%8f%e4%b8%8a%e9%9d%a2%e6%89%80%e8%af%b4%e7%9a%84%e6%95%b0%e6%8d%ae%e5%ba%93%e3%80%82%e6%9c%ac%e6%96%87%e9%87%87%e5%8f%96%e5%85%b7%e6%9c%89%e7%81%b5%e6%b4%bb%e6%9f%a5%e8%af%a2%e5%92%8c%e5%ae%9e%e6%97%b6%e6%8a%a5%e8%ad%a6%e6%9e%84%e5%bb%ba%e7%9a%84%e6%97%b6%e5%ba%8f%e6%95%b0%e6%8d%ae%e5%ba%93%20promethues%20%e6%9d%a5%e4%bd%9c%e4%b8%ba%e6%95%b0%e6%8d%ae%e7%ae%a1%e7%90%86%e7%ab%af%e3%80%82%0a%e4%bd%9c%e4%b8%ba%e5%9c%a3%e7%81%ab%e7%9a%84%e4%bc%a0%e4%ba%ba%ef%bc%8cpromethues%20%e6%9c%89%e7%9d%80%e5%90%84%e7%a7%8d%e9%87%87%e9%9b%86%e5%99%a8%e5%b0%8f%e5%bc%9f%ef%bc%8c%e5%a6%82%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%b5%84%e6%ba%90%e9%87%87%e9%9b%86%e5%99%a8%20node-exporter%e3%80%81%e8%bf%9b%e7%a8%8b%e8%b5%84%e6%ba%90%e9%87%87%e9%9b%86%e5%99%a8%20process-exporter%e3%80%81%e6%9c%8d%e5%8a%a1%e8%b5%84%e6%ba%90%e9%87%87%e9%9b%86%e5%99%a8%20blackbox-exporter%ef%bc%8c%20%e6%9c%89%e4%ba%86%e8%bf%99%e4%ba%9b%e9%87%87%e9%9b%86%e5%99%a8%e5%b0%b1%e5%8f%af%e4%bb%a5%e7%9b%b4%e6%8e%a5%e6%90%ad%e5%bb%ba%e8%b5%b7%e7%9b%91%e6%8e%a7%e5%92%8c%e8%ad%a6%e6%8a%a5%0a%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%9b%91%e6%8e%a7%20%e8%bf%9b%e7%a8%8b%e7%9b%91%e6%8e%a7%20%e6%9c%8d%e5%8a%a1%e7%9b%91%e6%8e%a7%20%e6%9c%80%e5%90%8e%e5%86%8d%e9%85%8d%e6%9c%89%20docker%20%e5%be%ae%e6%9c%8d%e5%8a%a1%ef%bc%8c%e4%bd%a0%e7%9a%84%e7%9b%91%e6%8e%a7%e5%92%8c%e8%ad%a6%e6%8a%a5%e5%b9%b3%e5%8f%b0%e5%b0%b1%e8%83%bd%e5%a4%9f%e4%b8%80%e9%94%ae%e9%83%a8%e7%bd%b2%e8%b5%b7%e6%9d%a5%e4%ba%86%e3%80%82%20%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c-%e5%ae%9a%e5%88%b6%e5%8c%96%20%e6%9c%89%e4%ba%86%e5%90%84%e7%a7%8d%e9%87%87%e9%9b%86%e5%99%a8%ef%bc%8c%e5%85%b6%e5%ae%9e%e8%83%bd%e5%a4%9f%e6%bb%a1%e8%b6%b3%e5%a4%a7%e9%83%a8%e5%88%86%e9%80%9a%e7%94%a8%e7%9b%91%e6%8e%a7%e7%9a%84%e9%9c%80%e6%b1%82%ef%bc%8c%e4%bd%86%e5%be%80%e5%be%80%e6%88%91%e4%bb%ac%e7%9a%84%e4%b8%9a%e5%8a%a1%e6%98%af%e4%b8%8d%e4%b8%80%e6%a0%b7%e7%9a%84%ef%bc%8c%e9%82%a3%e4%b9%88%e5%b0%b1%e9%9c%80%e8%a6%81%e8%bf%9b%e8%a1%8c%e5%ae%9a%e5%88%b6%e3%80%82%0a%e7%94%a8%e5%88%b0%e4%ba%86%e8%83%b6%e6%b0%b4%e8%af%ad%e8%a8%80%20Python%20%e5%9c%a8%20promethues%20%e7%9a%84%e6%a8%a1%e5%9d%97%20promethues_client%ef%bc%8c%e5%b0%b1%e8%83%bd%e5%bc%80%e5%a7%8b%e5%ae%9a%e5%88%b6%e4%ba%86%ef%bc%81%0a%e5%88%b6%e4%bd%9c%e4%b8%80%e4%b8%aa%e6%9d%a1%e5%bd%a2%e5%9b%be%20%e5%85%b6%e5%ae%9e%e8%bf%99%e4%b8%aa%e6%a0%87%e9%a2%98%ef%bc%8c%e6%88%91%e6%9c%80%e5%85%88%e6%83%b3%e5%8f%96%20%e2%80%9cfuck%20the%20bar%20chart%e2%80%9d%ef%bc%8c%e5%85%b6%e4%bb%96%e5%ae%9a%e5%88%b6%e5%8c%96%e7%9a%84%e6%95%b0%e6%8d%ae%ef%bc%8c%e8%a1%a8%e6%a0%bc%e3%80%81%e9%a5%bc%e5%9b%be%e3%80%81%e6%8a%98%e7%ba%bf%e5%9b%be%e9%83%bd%e6%98%af%e8%83%bd%e5%a4%9f%e5%9c%a8%e7%b2%97%e7%95%a5%e7%86%9f%e6%82%89%20Grafana%20%e5%90%8e%e5%8f%af%e4%bb%a5%e8%87%aa%e5%b7%b1%e4%b8%8a%e6%89%8b%e5%81%9a%e7%9a%84%e3%80%82%0a%e8%80%8c%e8%bf%99%e4%b8%aa%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%9b%b0%e6%89%b0%e4%ba%86%e6%88%91%e6%95%b4%e6%95%b4%e4%b8%80%e5%91%a8%e7%9a%84%e6%97%b6%e9%97%b4%ef%bc%8c%e5%90%84%e7%a7%8d%e6%89%be%e6%8f%92%e4%bb%b6%e3%80%81%e6%8d%a2%e7%89%88%e6%9c%ac%e3%80%81%e8%b0%83%e6%a0%bc%e5%bc%8f%e3%80%81%e9%80%89%e5%b1%95%e7%a4%ba%e6%96%b9%e5%bc%8f%ef%bc%8c%e9%83%bd%e6%b2%a1%e6%9c%89%e8%be%be%e5%88%b0%e7%90%86%e6%83%b3%e6%95%88%e6%9e%9c%ef%bc%9a%0a%e4%bb%8a%e5%a4%a9%e6%9d%a5%e5%bd%bb%e5%ba%95%e6%90%9e%e5%ae%9a%e8%bf%99%e4%b8%aa%e9%97%ae%e9%a2%98%ef%bc%81%ef%bc%81%0a%e7%89%88%e6%9c%ac%20%20%20%20%e5%b7%a5%e5%85%b7%20%e7%89%88%e6%9c%ac%20%20%20%20%20Docker%201.13.1%20%20%20Go%201." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&t=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#特点">特点</a></li>
    <li><a href="#准备工作-采集器">准备工作-采集器</a></li>
    <li><a href="#准备工作-定制化">准备工作-定制化</a></li>
    <li><a href="#制作一个条形图">制作一个条形图</a>
      <ul>
        <li><a href="#版本">版本</a></li>
        <li><a href="#看官网看官网看官网">看官网！看官网！看官网</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#1-匿名访问">1. 匿名访问</a></li>
    <li><a href="#2-全屏化展示">2. 全屏化展示</a></li>
    <li><a href="#3-支持-emoji-啦-">3. 支持 Emoji 啦 😄</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Grafana 条形图实践
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-07-29 09:56:39 &#43;0800 CST" itemprop="datePublished">2021-07-29</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          6 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/grafana" rel="tag">Grafana</a>
            
             ,  
            <a class="tag-link" href="/tags/promethues" rel="tag">Promethues</a>
            
             ,  
            <a class="tag-link" href="/tags/python" rel="tag">Python</a>
            
        </div>
        
      </div>
    </header>

  

    <div class="content" itemprop="articleBody" style="width: 120%;margin-left: -10%;">
      <h1 id="前言">前言</h1>
<p>可视化平台有很多，最重要的是选择符合业务需求的方案，费用低、学习曲线低、易于上手、集成性好这些都是加分项。众望所归，我选择了 Grafana。</p>
<h2 id="特点">特点</h2>
<p>让我们康康 Grafana 是怎样的：</p>
<ol>
<li>免费。Grafana 是一个<strong>开源</strong>的独立日志分析和监视工具。</li>
<li>开发少可直接用。面向分析师和一般使用者，一般<strong>不需要做多少编码</strong>工作就能直接拿来分析数据、搭建可视化系统。</li>
<li>界面炫酷。来看看官网的展示 <a href="https://grafana.com/grafana/">Grafana 官网概述</a></li>
<li>丰富集成。Grafana 是跨平台工具，它提供了与各种平台和数据库的集成，持 InfluxDB，AWS，MySQL，PostgreSQL 等。</li>
<li>用户交互体验好。展示连续<strong>实时监控</strong>指标（如 CPU 负载，内存）、对数据提供自定义<strong>实时警报</strong>、提供基于数据库及其查询语法的<strong>命令列界面</strong>。</li>
</ol>
<h2 id="准备工作-采集器">准备工作-采集器</h2>
<p>一个可视化平台，重要的是有数据来做支撑，像上面所说的数据库。本文采取具有灵活查询和实时报警构建的时序数据库 <strong>promethues</strong> 来作为数据管理端。</p>
<p>作为圣火的传人，promethues 有着各种采集器小弟，如服务器资源采集器 node-exporter、进程资源采集器 process-exporter、服务资源采集器 blackbox-exporter，
有了这些采集器就可以直接搭建起监控和警报</p>
<p><strong><a href="https://grafana.com/grafana/dashboards/8919">服务器监控</a></strong>
<img src="https://grafana.com/api/dashboards/8919/images/8260/image" alt="img"></p>
<p><strong><a href="https://grafana.com/grafana/dashboards/249">进程监控</a></strong>
<img src="https://grafana.com/api/dashboards/249/images/439/image" alt="img"></p>
<p><strong><a href="https://grafana.com/grafana/dashboards/9965">服务监控</a></strong>
<img src="https://grafana.com/api/dashboards/9965/images/6248/image" alt="img"></p>
<p>最后再配有 docker 微服务，你的监控和警报平台就能够一键部署起来了。
<img src="https://img2.baidu.com/it/u=1337695316,4281005371&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg" alt="img"></p>
<h2 id="准备工作-定制化">准备工作-定制化</h2>
<p>有了各种采集器，其实能够满足大部分通用监控的需求，但往往我们的业务是不一样的，那么就需要进行定制。</p>
<p>用到了胶水语言 Python 在 promethues 的模块 promethues_client，就能开始定制了！</p>
<h2 id="制作一个条形图">制作一个条形图</h2>
<p>其实这个标题，我最先想取 “fuck the bar chart”，其他定制化的数据，表格、饼图、折线图都是能够在粗略熟悉 Grafana 后可以自己上手做的。</p>
<p>而这个条形图困扰了我整整一周的时间，各种找插件、换版本、调格式、选展示方式，都没有达到理想效果：</p>
<p><img src="https://grafana.com/static/img/docs/bar-chart-panel/bar-chart-example-v8-0.png" alt="img"></p>
<p>今天来彻底搞定这个问题！！</p>
<h3 id="版本">版本</h3>
<table>
<thead>
<tr>
<th style="text-align:center">工具</th>
<th style="text-align:left">版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Docker</td>
<td style="text-align:left">1.13.1</td>
</tr>
<tr>
<td style="text-align:center">Go</td>
<td style="text-align:left">1.16.5</td>
</tr>
<tr>
<td style="text-align:center">Python</td>
<td style="text-align:left">3.6.8</td>
</tr>
<tr>
<td style="text-align:center">Promethues</td>
<td style="text-align:left">2.28.1</td>
</tr>
<tr>
<td style="text-align:center">Grafana</td>
<td style="text-align:left">v8.1.0-30031pre（这个太重要了！！！）</td>
</tr>
</tbody>
</table>
<h3 id="看官网看官网看官网">看官网！看官网！看官网</h3>
<ol>
<li>首先需要有表格化的数据，并且这些数据都是 number 类型，而不是 string，你的 Grafana Metrics browser 可以长这样：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#75715e"># data1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Chrome&#34;</span><span style="color:#f92672">}</span> 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#75715e"># data2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Safari&#34;</span><span style="color:#f92672">}</span> 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span style="color:#75715e"># data3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Edge&#34;</span><span style="color:#f92672">}</span> 
</code></pre></div><ol start="2">
<li>Format 格式都是 Table，Instant 瞬间值都要打开。最终你获得了像这样的表数据（打开 Tabel View 可以看到）</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">浏览器</th>
<th style="text-align:center">市场占比</th>
<th style="text-align:center">CPU占用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Chrome</td>
<td style="text-align:center">65.88</td>
<td style="text-align:center">5%</td>
</tr>
<tr>
<td style="text-align:center">Safari</td>
<td style="text-align:center">18.50</td>
<td style="text-align:center">3%</td>
</tr>
<tr>
<td style="text-align:center">Edge</td>
<td style="text-align:center">3.29</td>
<td style="text-align:center">3.4%</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>
<p>在 Transform 中转换展示方式。选择 Concatenate fields 再选择 → Copy frame name to field name</p>
</li>
<li>
<p>在 Transform 中选择需要展示的数据。选择 Filter by name，点选你需要展示的数据</p>
</li>
<li>
<p>最后，还是在 Transform 中重命名字段。选择 Organize fields，将英文转化为中文吧（如果你需要的话）。</p>
</li>
</ol>
<p>完美收工！就得到了上图的右边部分显示的相同样式。</p>
<p><strong>参考链接</strong></p>
<p>[1] <a href="https://grafana.com/docs/grafana/latest/panels/visualizations/bar-chart/">官网：Bar chart</a></p>
<p>[2] <a href="https://chartio.com/learn/charts/bar-chart-complete-guide/">A Complete Guide to Bar Charts</a></p>
<p>[3] <a href="https://chartio.com/learn/charts/stacked-bar-chart-complete-guide/">A Complete Guide to Stacked Bar Charts</a></p>
<p>[4] <a href="https://cdn2.hubspot.net/hubfs/392937/How-To-Choose-The-Right-Data-Visualization.pdf">《How to Choose the Right Data Visualization》</a></p>
<h1 id="其他补充">其他补充</h1>
<h2 id="1-匿名访问">1. 匿名访问</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>docker run 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    -itd --name grafana -p 3000:3000 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    -e <span style="color:#e6db74">&#34;GF_AUTH_PROXY_ENABLED=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    -e <span style="color:#e6db74">&#34;GF_AUTH_ANONYMOUS_ENABLED=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>    -e <span style="color:#e6db74">&#34;GF_SECURITY_ALLOW_EMBEDDING=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    grafana/grafana
</code></pre></div><p>这里解释一下：GF_SECURITY_ALLOW_EMBEDDING,用于网页嵌套的。如果需要在 iframe 中嵌套 Grafana，那么把这个变量设置为true；</p>
<h2 id="2-全屏化展示">2. 全屏化展示</h2>
<p>想让 Grafana 分享的面板全屏化，在分享的 URL 后面跟上</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>&amp;kiosk<span style="color:#f92672">=</span>true
</code></pre></div><p>再加上按钮 <strong>F11</strong>，食用效果更佳。</p>
<h2 id="3-支持-emoji-啦-">3. 支持 Emoji 啦 😄</h2>
<p>虽然 Grafana 的显示都是文本不能显示图片 🤔，但是支持 emoji ！！！✌</p>
<p>[1] <a href="http://emojihomepage.com/">emoji 点击复制版</a> 👈</p>
<p>[2] <a href="https://unicode.org/emoji/charts/full-emoji-list.html">emoji 大全版</a> 🔮</p>
<h1 id="结语">结语</h1>
<p>今天关于 Grafana 的分享就到这里结束啦，如果你感兴趣，欢迎联系我 🤙</p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">主页</a></li>
         
          <li><a href="/posts">文章</a></li>
         
          <li><a href="/tags">归档</a></li>
         
          <li><a href="/about">关于</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#特点">特点</a></li>
    <li><a href="#准备工作-采集器">准备工作-采集器</a></li>
    <li><a href="#准备工作-定制化">准备工作-定制化</a></li>
    <li><a href="#制作一个条形图">制作一个条形图</a>
      <ul>
        <li><a href="#版本">版本</a></li>
        <li><a href="#看官网看官网看官网">看官网！看官网！看官网</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#1-匿名访问">1. 匿名访问</a></li>
    <li><a href="#2-全屏化展示">2. 全屏化展示</a></li>
    <li><a href="#3-支持-emoji-啦-">3. 支持 Emoji 啦 😄</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&text=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&title=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&is_video=false&description=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&title=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&title=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&name=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&description=%e5%89%8d%e8%a8%80%20%e5%8f%af%e8%a7%86%e5%8c%96%e5%b9%b3%e5%8f%b0%e6%9c%89%e5%be%88%e5%a4%9a%ef%bc%8c%e6%9c%80%e9%87%8d%e8%a6%81%e7%9a%84%e6%98%af%e9%80%89%e6%8b%a9%e7%ac%a6%e5%90%88%e4%b8%9a%e5%8a%a1%e9%9c%80%e6%b1%82%e7%9a%84%e6%96%b9%e6%a1%88%ef%bc%8c%e8%b4%b9%e7%94%a8%e4%bd%8e%e3%80%81%e5%ad%a6%e4%b9%a0%e6%9b%b2%e7%ba%bf%e4%bd%8e%e3%80%81%e6%98%93%e4%ba%8e%e4%b8%8a%e6%89%8b%e3%80%81%e9%9b%86%e6%88%90%e6%80%a7%e5%a5%bd%e8%bf%99%e4%ba%9b%e9%83%bd%e6%98%af%e5%8a%a0%e5%88%86%e9%a1%b9%e3%80%82%e4%bc%97%e6%9c%9b%e6%89%80%e5%bd%92%ef%bc%8c%e6%88%91%e9%80%89%e6%8b%a9%e4%ba%86%20Grafana%e3%80%82%0a%e7%89%b9%e7%82%b9%20%e8%ae%a9%e6%88%91%e4%bb%ac%e5%ba%b7%e5%ba%b7%20Grafana%20%e6%98%af%e6%80%8e%e6%a0%b7%e7%9a%84%ef%bc%9a%0a%20%e5%85%8d%e8%b4%b9%e3%80%82Grafana%20%e6%98%af%e4%b8%80%e4%b8%aa%e5%bc%80%e6%ba%90%e7%9a%84%e7%8b%ac%e7%ab%8b%e6%97%a5%e5%bf%97%e5%88%86%e6%9e%90%e5%92%8c%e7%9b%91%e8%a7%86%e5%b7%a5%e5%85%b7%e3%80%82%20%e5%bc%80%e5%8f%91%e5%b0%91%e5%8f%af%e7%9b%b4%e6%8e%a5%e7%94%a8%e3%80%82%e9%9d%a2%e5%90%91%e5%88%86%e6%9e%90%e5%b8%88%e5%92%8c%e4%b8%80%e8%88%ac%e4%bd%bf%e7%94%a8%e8%80%85%ef%bc%8c%e4%b8%80%e8%88%ac%e4%b8%8d%e9%9c%80%e8%a6%81%e5%81%9a%e5%a4%9a%e5%b0%91%e7%bc%96%e7%a0%81%e5%b7%a5%e4%bd%9c%e5%b0%b1%e8%83%bd%e7%9b%b4%e6%8e%a5%e6%8b%bf%e6%9d%a5%e5%88%86%e6%9e%90%e6%95%b0%e6%8d%ae%e3%80%81%e6%90%ad%e5%bb%ba%e5%8f%af%e8%a7%86%e5%8c%96%e7%b3%bb%e7%bb%9f%e3%80%82%20%e7%95%8c%e9%9d%a2%e7%82%ab%e9%85%b7%e3%80%82%e6%9d%a5%e7%9c%8b%e7%9c%8b%e5%ae%98%e7%bd%91%e7%9a%84%e5%b1%95%e7%a4%ba%20Grafana%20%e5%ae%98%e7%bd%91%e6%a6%82%e8%bf%b0%20%e4%b8%b0%e5%af%8c%e9%9b%86%e6%88%90%e3%80%82Grafana%20%e6%98%af%e8%b7%a8%e5%b9%b3%e5%8f%b0%e5%b7%a5%e5%85%b7%ef%bc%8c%e5%ae%83%e6%8f%90%e4%be%9b%e4%ba%86%e4%b8%8e%e5%90%84%e7%a7%8d%e5%b9%b3%e5%8f%b0%e5%92%8c%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e9%9b%86%e6%88%90%ef%bc%8c%e6%8c%81%20InfluxDB%ef%bc%8cAWS%ef%bc%8cMySQL%ef%bc%8cPostgreSQL%20%e7%ad%89%e3%80%82%20%e7%94%a8%e6%88%b7%e4%ba%a4%e4%ba%92%e4%bd%93%e9%aa%8c%e5%a5%bd%e3%80%82%e5%b1%95%e7%a4%ba%e8%bf%9e%e7%bb%ad%e5%ae%9e%e6%97%b6%e7%9b%91%e6%8e%a7%e6%8c%87%e6%a0%87%ef%bc%88%e5%a6%82%20CPU%20%e8%b4%9f%e8%bd%bd%ef%bc%8c%e5%86%85%e5%ad%98%ef%bc%89%e3%80%81%e5%af%b9%e6%95%b0%e6%8d%ae%e6%8f%90%e4%be%9b%e8%87%aa%e5%ae%9a%e4%b9%89%e5%ae%9e%e6%97%b6%e8%ad%a6%e6%8a%a5%e3%80%81%e6%8f%90%e4%be%9b%e5%9f%ba%e4%ba%8e%e6%95%b0%e6%8d%ae%e5%ba%93%e5%8f%8a%e5%85%b6%e6%9f%a5%e8%af%a2%e8%af%ad%e6%b3%95%e7%9a%84%e5%91%bd%e4%bb%a4%e5%88%97%e7%95%8c%e9%9d%a2%e3%80%82%20%20%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c-%e9%87%87%e9%9b%86%e5%99%a8%20%e4%b8%80%e4%b8%aa%e5%8f%af%e8%a7%86%e5%8c%96%e5%b9%b3%e5%8f%b0%ef%bc%8c%e9%87%8d%e8%a6%81%e7%9a%84%e6%98%af%e6%9c%89%e6%95%b0%e6%8d%ae%e6%9d%a5%e5%81%9a%e6%94%af%e6%92%91%ef%bc%8c%e5%83%8f%e4%b8%8a%e9%9d%a2%e6%89%80%e8%af%b4%e7%9a%84%e6%95%b0%e6%8d%ae%e5%ba%93%e3%80%82%e6%9c%ac%e6%96%87%e9%87%87%e5%8f%96%e5%85%b7%e6%9c%89%e7%81%b5%e6%b4%bb%e6%9f%a5%e8%af%a2%e5%92%8c%e5%ae%9e%e6%97%b6%e6%8a%a5%e8%ad%a6%e6%9e%84%e5%bb%ba%e7%9a%84%e6%97%b6%e5%ba%8f%e6%95%b0%e6%8d%ae%e5%ba%93%20promethues%20%e6%9d%a5%e4%bd%9c%e4%b8%ba%e6%95%b0%e6%8d%ae%e7%ae%a1%e7%90%86%e7%ab%af%e3%80%82%0a%e4%bd%9c%e4%b8%ba%e5%9c%a3%e7%81%ab%e7%9a%84%e4%bc%a0%e4%ba%ba%ef%bc%8cpromethues%20%e6%9c%89%e7%9d%80%e5%90%84%e7%a7%8d%e9%87%87%e9%9b%86%e5%99%a8%e5%b0%8f%e5%bc%9f%ef%bc%8c%e5%a6%82%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%b5%84%e6%ba%90%e9%87%87%e9%9b%86%e5%99%a8%20node-exporter%e3%80%81%e8%bf%9b%e7%a8%8b%e8%b5%84%e6%ba%90%e9%87%87%e9%9b%86%e5%99%a8%20process-exporter%e3%80%81%e6%9c%8d%e5%8a%a1%e8%b5%84%e6%ba%90%e9%87%87%e9%9b%86%e5%99%a8%20blackbox-exporter%ef%bc%8c%20%e6%9c%89%e4%ba%86%e8%bf%99%e4%ba%9b%e9%87%87%e9%9b%86%e5%99%a8%e5%b0%b1%e5%8f%af%e4%bb%a5%e7%9b%b4%e6%8e%a5%e6%90%ad%e5%bb%ba%e8%b5%b7%e7%9b%91%e6%8e%a7%e5%92%8c%e8%ad%a6%e6%8a%a5%0a%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%9b%91%e6%8e%a7%20%e8%bf%9b%e7%a8%8b%e7%9b%91%e6%8e%a7%20%e6%9c%8d%e5%8a%a1%e7%9b%91%e6%8e%a7%20%e6%9c%80%e5%90%8e%e5%86%8d%e9%85%8d%e6%9c%89%20docker%20%e5%be%ae%e6%9c%8d%e5%8a%a1%ef%bc%8c%e4%bd%a0%e7%9a%84%e7%9b%91%e6%8e%a7%e5%92%8c%e8%ad%a6%e6%8a%a5%e5%b9%b3%e5%8f%b0%e5%b0%b1%e8%83%bd%e5%a4%9f%e4%b8%80%e9%94%ae%e9%83%a8%e7%bd%b2%e8%b5%b7%e6%9d%a5%e4%ba%86%e3%80%82%20%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c-%e5%ae%9a%e5%88%b6%e5%8c%96%20%e6%9c%89%e4%ba%86%e5%90%84%e7%a7%8d%e9%87%87%e9%9b%86%e5%99%a8%ef%bc%8c%e5%85%b6%e5%ae%9e%e8%83%bd%e5%a4%9f%e6%bb%a1%e8%b6%b3%e5%a4%a7%e9%83%a8%e5%88%86%e9%80%9a%e7%94%a8%e7%9b%91%e6%8e%a7%e7%9a%84%e9%9c%80%e6%b1%82%ef%bc%8c%e4%bd%86%e5%be%80%e5%be%80%e6%88%91%e4%bb%ac%e7%9a%84%e4%b8%9a%e5%8a%a1%e6%98%af%e4%b8%8d%e4%b8%80%e6%a0%b7%e7%9a%84%ef%bc%8c%e9%82%a3%e4%b9%88%e5%b0%b1%e9%9c%80%e8%a6%81%e8%bf%9b%e8%a1%8c%e5%ae%9a%e5%88%b6%e3%80%82%0a%e7%94%a8%e5%88%b0%e4%ba%86%e8%83%b6%e6%b0%b4%e8%af%ad%e8%a8%80%20Python%20%e5%9c%a8%20promethues%20%e7%9a%84%e6%a8%a1%e5%9d%97%20promethues_client%ef%bc%8c%e5%b0%b1%e8%83%bd%e5%bc%80%e5%a7%8b%e5%ae%9a%e5%88%b6%e4%ba%86%ef%bc%81%0a%e5%88%b6%e4%bd%9c%e4%b8%80%e4%b8%aa%e6%9d%a1%e5%bd%a2%e5%9b%be%20%e5%85%b6%e5%ae%9e%e8%bf%99%e4%b8%aa%e6%a0%87%e9%a2%98%ef%bc%8c%e6%88%91%e6%9c%80%e5%85%88%e6%83%b3%e5%8f%96%20%e2%80%9cfuck%20the%20bar%20chart%e2%80%9d%ef%bc%8c%e5%85%b6%e4%bb%96%e5%ae%9a%e5%88%b6%e5%8c%96%e7%9a%84%e6%95%b0%e6%8d%ae%ef%bc%8c%e8%a1%a8%e6%a0%bc%e3%80%81%e9%a5%bc%e5%9b%be%e3%80%81%e6%8a%98%e7%ba%bf%e5%9b%be%e9%83%bd%e6%98%af%e8%83%bd%e5%a4%9f%e5%9c%a8%e7%b2%97%e7%95%a5%e7%86%9f%e6%82%89%20Grafana%20%e5%90%8e%e5%8f%af%e4%bb%a5%e8%87%aa%e5%b7%b1%e4%b8%8a%e6%89%8b%e5%81%9a%e7%9a%84%e3%80%82%0a%e8%80%8c%e8%bf%99%e4%b8%aa%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%9b%b0%e6%89%b0%e4%ba%86%e6%88%91%e6%95%b4%e6%95%b4%e4%b8%80%e5%91%a8%e7%9a%84%e6%97%b6%e9%97%b4%ef%bc%8c%e5%90%84%e7%a7%8d%e6%89%be%e6%8f%92%e4%bb%b6%e3%80%81%e6%8d%a2%e7%89%88%e6%9c%ac%e3%80%81%e8%b0%83%e6%a0%bc%e5%bc%8f%e3%80%81%e9%80%89%e5%b1%95%e7%a4%ba%e6%96%b9%e5%bc%8f%ef%bc%8c%e9%83%bd%e6%b2%a1%e6%9c%89%e8%be%be%e5%88%b0%e7%90%86%e6%83%b3%e6%95%88%e6%9e%9c%ef%bc%9a%0a%e4%bb%8a%e5%a4%a9%e6%9d%a5%e5%bd%bb%e5%ba%95%e6%90%9e%e5%ae%9a%e8%bf%99%e4%b8%aa%e9%97%ae%e9%a2%98%ef%bc%81%ef%bc%81%0a%e7%89%88%e6%9c%ac%20%20%20%20%e5%b7%a5%e5%85%b7%20%e7%89%88%e6%9c%ac%20%20%20%20%20Docker%201.13.1%20%20%20Go%201." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=http%3a%2f%2fjupiterxue.com%2fposts%2f2021-07-29-grafana-bar-chart%2f&t=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  JupiterXue 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">主页</a></li>
         
        <li><a href="/posts">文章</a></li>
         
        <li><a href="/tags">归档</a></li>
         
        <li><a href="/about">关于</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>



</html>

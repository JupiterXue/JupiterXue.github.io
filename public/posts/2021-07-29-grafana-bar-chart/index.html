&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<!DOCTYPE html>
<html lang="zh-CN">
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Grafana æ¡å½¢å›¾å®è·µ | æœ¨å¤œæ˜Ÿç©ºçš„ä¸ªäººåšå®¢</title>
  <link rel = 'canonical' href = 'https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/'>
  <meta name="description" content="ä¸œæ–¹ä¸äº®æœ¨æ˜Ÿäº®ï¼Œé»‘äº†ç™½æ˜¼æœ‰æ˜Ÿç©º">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Grafana æ¡å½¢å›¾å®è·µ" />
<meta property="og:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-29T09:56:39+08:00" />
<meta property="article:modified_time" content="2021-07-29T09:56:39+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Grafana æ¡å½¢å›¾å®è·µ"/>
<meta name="twitter:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://jupiterxue.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


  &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
=======

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e


  
<link rel="icon" type="image/png" href="https://jupiterxue.github.io/images/favicon.ico" />

  
  
  
  
</head>
=======
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Grafana æ¡å½¢å›¾å®è·µ | æœ¨å¤œæ˜Ÿç©ºçš„ä¸ªäººåšå®¢</title>
  <link rel = 'canonical' href = 'https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/'>
  <meta name="description" content="ä¸œæ–¹ä¸äº®æœ¨æ˜Ÿäº®ï¼Œé»‘äº†ç™½æ˜¼æœ‰æ˜Ÿç©º">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Grafana æ¡å½¢å›¾å®è·µ" />
<meta property="og:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-29T09:56:39+08:00" />
<meta property="article:modified_time" content="2021-07-29T09:56:39+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Grafana æ¡å½¢å›¾å®è·µ"/>
<meta name="twitter:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://jupiterxue.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


  &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
=======

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e


  
<link rel="icon" type="image/png" href="https://jupiterxue.github.io/images/favicon.ico" />

  
  
  
  
</head>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">ä¸»é¡µ</a></li>
         
        <li><a href="/posts">æ–‡ç« </a></li>
         
        <li><a href="/tags">å½’æ¡£</a></li>
         
        <li><a href="/about">å…³äº</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://jupiterxue.github.io/posts/2021-07-28-python-replay/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://jupiterxue.github.io/posts/2021-08-02-learn-from-top-writer/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin " aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
=======
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin " aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#ç‰¹ç‚¹">ç‰¹ç‚¹</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨">å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–">å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–</a></li>
    <li><a href="#åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾">åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾</a>
      <ul>
        <li><a href="#ç‰ˆæœ¬">ç‰ˆæœ¬</a></li>
        <li><a href="#çœ‹å®˜ç½‘çœ‹å®˜ç½‘çœ‹å®˜ç½‘">çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#1-åŒ¿åè®¿é—®">1. åŒ¿åè®¿é—®</a></li>
    <li><a href="#2-å…¨å±åŒ–å±•ç¤º">2. å…¨å±åŒ–å±•ç¤º</a></li>
    <li><a href="#3-æ”¯æŒ-emoji-å•¦-">3. æ”¯æŒ Emoji å•¦ ğŸ˜„</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Grafana æ¡å½¢å›¾å®è·µ
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-07-29 09:56:39 &#43;0800 CST" itemprop="datePublished">2021-07-29</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          6 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/grafana" rel="tag">Grafana</a>
            
             ,  
            <a class="tag-link" href="/tags/promethues" rel="tag">Promethues</a>
            
             ,  
            <a class="tag-link" href="/tags/python" rel="tag">Python</a>
            
        </div>
        
      </div>
    </header>

  

    <div class="content" itemprop="articleBody" style="width: 120%;margin-left: -10%;">
      <h1 id="å‰è¨€">å‰è¨€</h1>
<p>å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚</p>
<h2 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h2>
<p>è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š</p>
<ol>
<li>å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ª<strong>å¼€æº</strong>çš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚</li>
<li>å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬<strong>ä¸éœ€è¦åšå¤šå°‘ç¼–ç </strong>å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚</li>
<li>ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º <a href="https://grafana.com/grafana/">Grafana å®˜ç½‘æ¦‚è¿°</a></li>
<li>ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚</li>
<li>ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­<strong>å®æ—¶ç›‘æ§</strong>æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰<strong>å®æ—¶è­¦æŠ¥</strong>ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„<strong>å‘½ä»¤åˆ—ç•Œé¢</strong>ã€‚</li>
</ol>
<h2 id="å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨">å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨</h2>
<p>ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ <strong>promethues</strong> æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚</p>
<p>ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ
æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥</p>
<p><strong><a href="https://grafana.com/grafana/dashboards/8919">æœåŠ¡å™¨ç›‘æ§</a></strong>
<img src="https://grafana.com/api/dashboards/8919/images/8260/image" alt="img"></p>
<p><strong><a href="https://grafana.com/grafana/dashboards/249">è¿›ç¨‹ç›‘æ§</a></strong>
<img src="https://grafana.com/api/dashboards/249/images/439/image" alt="img"></p>
<p><strong><a href="https://grafana.com/grafana/dashboards/9965">æœåŠ¡ç›‘æ§</a></strong>
<img src="https://grafana.com/api/dashboards/9965/images/6248/image" alt="img"></p>
<p>æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚
<img src="https://img2.baidu.com/it/u=1337695316,4281005371&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg" alt="img"></p>
<h2 id="å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–">å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–</h2>
<p>æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚</p>
<p>ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼</p>
<h2 id="åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾">åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾</h2>
<p>å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚</p>
<p>è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š</p>
<p><img src="https://grafana.com/static/img/docs/bar-chart-panel/bar-chart-example-v8-0.png" alt="img"></p>
<p>ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼</p>
<h3 id="ç‰ˆæœ¬">ç‰ˆæœ¬</h3>
<table>
<thead>
<tr>
<th style="text-align:center">å·¥å…·</th>
<th style="text-align:left">ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Docker</td>
<td style="text-align:left">1.13.1</td>
</tr>
<tr>
<td style="text-align:center">Go</td>
<td style="text-align:left">1.16.5</td>
</tr>
<tr>
<td style="text-align:center">Python</td>
<td style="text-align:left">3.6.8</td>
</tr>
<tr>
<td style="text-align:center">Promethues</td>
<td style="text-align:left">2.28.1</td>
</tr>
<tr>
<td style="text-align:center">Grafana</td>
<td style="text-align:left">v8.1.0-30031preï¼ˆè¿™ä¸ªå¤ªé‡è¦äº†ï¼ï¼ï¼ï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="çœ‹å®˜ç½‘çœ‹å®˜ç½‘çœ‹å®˜ç½‘">çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘</h3>
<ol>
<li>é¦–å…ˆéœ€è¦æœ‰è¡¨æ ¼åŒ–çš„æ•°æ®ï¼Œå¹¶ä¸”è¿™äº›æ•°æ®éƒ½æ˜¯ number ç±»å‹ï¼Œè€Œä¸æ˜¯ stringï¼Œä½ çš„ Grafana Metrics browser å¯ä»¥é•¿è¿™æ ·ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#75715e"># data1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Chrome&#34;</span><span style="color:#f92672">}</span> 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#75715e"># data2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Safari&#34;</span><span style="color:#f92672">}</span> 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span style="color:#75715e"># data3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Edge&#34;</span><span style="color:#f92672">}</span> 
</code></pre></div><ol start="2">
<li>Format æ ¼å¼éƒ½æ˜¯ Tableï¼ŒInstant ç¬é—´å€¼éƒ½è¦æ‰“å¼€ã€‚æœ€ç»ˆä½ è·å¾—äº†åƒè¿™æ ·çš„è¡¨æ•°æ®ï¼ˆæ‰“å¼€ Tabel View å¯ä»¥çœ‹åˆ°ï¼‰</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">æµè§ˆå™¨</th>
<th style="text-align:center">å¸‚åœºå æ¯”</th>
<th style="text-align:center">CPUå ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Chrome</td>
<td style="text-align:center">65.88</td>
<td style="text-align:center">5%</td>
</tr>
<tr>
<td style="text-align:center">Safari</td>
<td style="text-align:center">18.50</td>
<td style="text-align:center">3%</td>
</tr>
<tr>
<td style="text-align:center">Edge</td>
<td style="text-align:center">3.29</td>
<td style="text-align:center">3.4%</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>
<p>åœ¨ Transform ä¸­è½¬æ¢å±•ç¤ºæ–¹å¼ã€‚é€‰æ‹© Concatenate fields å†é€‰æ‹© â†’ Copy frame name to field name</p>
</li>
<li>
<p>åœ¨ Transform ä¸­é€‰æ‹©éœ€è¦å±•ç¤ºçš„æ•°æ®ã€‚é€‰æ‹© Filter by nameï¼Œç‚¹é€‰ä½ éœ€è¦å±•ç¤ºçš„æ•°æ®</p>
</li>
<li>
<p>æœ€åï¼Œè¿˜æ˜¯åœ¨ Transform ä¸­é‡å‘½åå­—æ®µã€‚é€‰æ‹© Organize fieldsï¼Œå°†è‹±æ–‡è½¬åŒ–ä¸ºä¸­æ–‡å§ï¼ˆå¦‚æœä½ éœ€è¦çš„è¯ï¼‰ã€‚</p>
</li>
</ol>
<p>å®Œç¾æ”¶å·¥ï¼å°±å¾—åˆ°äº†ä¸Šå›¾çš„å³è¾¹éƒ¨åˆ†æ˜¾ç¤ºçš„ç›¸åŒæ ·å¼ã€‚</p>
<p><strong>å‚è€ƒé“¾æ¥</strong></p>
<p>[1] <a href="https://grafana.com/docs/grafana/latest/panels/visualizations/bar-chart/">å®˜ç½‘ï¼šBar chart</a></p>
<p>[2] <a href="https://chartio.com/learn/charts/bar-chart-complete-guide/">A Complete Guide to Bar Charts</a></p>
<p>[3] <a href="https://chartio.com/learn/charts/stacked-bar-chart-complete-guide/">A Complete Guide to Stacked Bar Charts</a></p>
<p>[4] <a href="https://cdn2.hubspot.net/hubfs/392937/How-To-Choose-The-Right-Data-Visualization.pdf">ã€ŠHow to Choose the Right Data Visualizationã€‹</a></p>
<h1 id="å…¶ä»–è¡¥å……">å…¶ä»–è¡¥å……</h1>
<h2 id="1-åŒ¿åè®¿é—®">1. åŒ¿åè®¿é—®</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>docker run 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    -itd --name grafana -p 3000:3000 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    -e <span style="color:#e6db74">&#34;GF_AUTH_PROXY_ENABLED=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    -e <span style="color:#e6db74">&#34;GF_AUTH_ANONYMOUS_ENABLED=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>    -e <span style="color:#e6db74">&#34;GF_SECURITY_ALLOW_EMBEDDING=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    grafana/grafana
</code></pre></div><p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ï¼šGF_SECURITY_ALLOW_EMBEDDING,ç”¨äºç½‘é¡µåµŒå¥—çš„ã€‚å¦‚æœéœ€è¦åœ¨ iframe ä¸­åµŒå¥— Grafanaï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªå˜é‡è®¾ç½®ä¸ºtrueï¼›</p>
<h2 id="2-å…¨å±åŒ–å±•ç¤º">2. å…¨å±åŒ–å±•ç¤º</h2>
<p>æƒ³è®© Grafana åˆ†äº«çš„é¢æ¿å…¨å±åŒ–ï¼Œåœ¨åˆ†äº«çš„ URL åé¢è·Ÿä¸Š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>&amp;kiosk<span style="color:#f92672">=</span>true
</code></pre></div><p>å†åŠ ä¸ŠæŒ‰é’® <strong>F11</strong>ï¼Œé£Ÿç”¨æ•ˆæœæ›´ä½³ã€‚</p>
<h2 id="3-æ”¯æŒ-emoji-å•¦-">3. æ”¯æŒ Emoji å•¦ ğŸ˜„</h2>
<p>è™½ç„¶ Grafana çš„æ˜¾ç¤ºéƒ½æ˜¯æ–‡æœ¬ä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡ ğŸ¤”ï¼Œä½†æ˜¯æ”¯æŒ emoji ï¼ï¼ï¼âœŒ</p>
<p>[1] <a href="http://emojihomepage.com/">emoji ç‚¹å‡»å¤åˆ¶ç‰ˆ</a> ğŸ‘ˆ</p>
<p>[2] <a href="https://unicode.org/emoji/charts/full-emoji-list.html">emoji å¤§å…¨ç‰ˆ</a> ğŸ”®</p>
<h1 id="ç»“è¯­">ç»“è¯­</h1>
<p>ä»Šå¤©å…³äº Grafana çš„åˆ†äº«å°±åˆ°è¿™é‡Œç»“æŸå•¦ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»æˆ‘ ğŸ¤™</p>

    </div>
  </article>
  


  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">ä¸»é¡µ</a></li>
         
          <li><a href="/posts">æ–‡ç« </a></li>
         
          <li><a href="/tags">å½’æ¡£</a></li>
         
          <li><a href="/about">å…³äº</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#ç‰¹ç‚¹">ç‰¹ç‚¹</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨">å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–">å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–</a></li>
    <li><a href="#åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾">åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾</a>
      <ul>
        <li><a href="#ç‰ˆæœ¬">ç‰ˆæœ¬</a></li>
        <li><a href="#çœ‹å®˜ç½‘çœ‹å®˜ç½‘çœ‹å®˜ç½‘">çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#1-åŒ¿åè®¿é—®">1. åŒ¿åè®¿é—®</a></li>
    <li><a href="#2-å…¨å±åŒ–å±•ç¤º">2. å…¨å±åŒ–å±•ç¤º</a></li>
    <li><a href="#3-æ”¯æŒ-emoji-å•¦-">3. æ”¯æŒ Emoji å•¦ ğŸ˜„</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin fa-lg" aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
=======
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin fa-lg" aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  JupiterXue 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">ä¸»é¡µ</a></li>
         
        <li><a href="/posts">æ–‡ç« </a></li>
         
        <li><a href="/tags">å½’æ¡£</a></li>
         
        <li><a href="/about">å…³äº</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>



</html>
=======
<!DOCTYPE html>
<html lang="zh-CN">
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Grafana æ¡å½¢å›¾å®è·µ | æœ¨å¤œæ˜Ÿç©ºçš„ä¸ªäººåšå®¢</title>
  <link rel = 'canonical' href = 'https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/'>
  <meta name="description" content="ä¸œæ–¹ä¸äº®æœ¨æ˜Ÿäº®ï¼Œé»‘äº†ç™½æ˜¼æœ‰æ˜Ÿç©º">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Grafana æ¡å½¢å›¾å®è·µ" />
<meta property="og:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-29T09:56:39+08:00" />
<meta property="article:modified_time" content="2021-07-29T09:56:39+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Grafana æ¡å½¢å›¾å®è·µ"/>
<meta name="twitter:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://jupiterxue.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


  &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
=======

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e


  
<link rel="icon" type="image/png" href="https://jupiterxue.github.io/images/favicon.ico" />

  
  
  
  
</head>
=======
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Grafana æ¡å½¢å›¾å®è·µ | æœ¨å¤œæ˜Ÿç©ºçš„ä¸ªäººåšå®¢</title>
  <link rel = 'canonical' href = 'https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/'>
  <meta name="description" content="ä¸œæ–¹ä¸äº®æœ¨æ˜Ÿäº®ï¼Œé»‘äº†ç™½æ˜¼æœ‰æ˜Ÿç©º">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Grafana æ¡å½¢å›¾å®è·µ" />
<meta property="og:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jupiterxue.github.io/posts/2021-07-29-grafana-bar-chart/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-29T09:56:39+08:00" />
<meta property="article:modified_time" content="2021-07-29T09:56:39+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Grafana æ¡å½¢å›¾å®è·µ"/>
<meta name="twitter:description" content="å‰è¨€ å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚
ç‰¹ç‚¹ è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š
 å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚ å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬ä¸éœ€è¦åšå¤šå°‘ç¼–ç å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚ ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º Grafana å®˜ç½‘æ¦‚è¿° ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚ ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­å®æ—¶ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰å®æ—¶è­¦æŠ¥ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„å‘½ä»¤åˆ—ç•Œé¢ã€‚  å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨ ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ promethues æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚
ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥
æœåŠ¡å™¨ç›‘æ§ è¿›ç¨‹ç›‘æ§ æœåŠ¡ç›‘æ§ æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚ å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ– æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚
ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼
åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾ å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚
è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š
ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼
ç‰ˆæœ¬    å·¥å…· ç‰ˆæœ¬     Docker 1.13.1   Go 1."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://jupiterxue.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


  &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
=======

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxx"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5QVC54HS9T');
</script>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e


  
<link rel="icon" type="image/png" href="https://jupiterxue.github.io/images/favicon.ico" />

  
  
  
  
</head>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">ä¸»é¡µ</a></li>
         
        <li><a href="/posts">æ–‡ç« </a></li>
         
        <li><a href="/tags">å½’æ¡£</a></li>
         
        <li><a href="/about">å…³äº</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://jupiterxue.github.io/posts/2021-07-28-python-replay/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://jupiterxue.github.io/posts/2021-08-02-learn-from-top-writer/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin " aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
=======
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq " aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin " aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#ç‰¹ç‚¹">ç‰¹ç‚¹</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨">å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–">å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–</a></li>
    <li><a href="#åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾">åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾</a>
      <ul>
        <li><a href="#ç‰ˆæœ¬">ç‰ˆæœ¬</a></li>
        <li><a href="#çœ‹å®˜ç½‘çœ‹å®˜ç½‘çœ‹å®˜ç½‘">çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#1-åŒ¿åè®¿é—®">1. åŒ¿åè®¿é—®</a></li>
    <li><a href="#2-å…¨å±åŒ–å±•ç¤º">2. å…¨å±åŒ–å±•ç¤º</a></li>
    <li><a href="#3-æ”¯æŒ-emoji-å•¦-">3. æ”¯æŒ Emoji å•¦ ğŸ˜„</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Grafana æ¡å½¢å›¾å®è·µ
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-07-29 09:56:39 &#43;0800 CST" itemprop="datePublished">2021-07-29</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          6 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/grafana" rel="tag">Grafana</a>
            
             ,  
            <a class="tag-link" href="/tags/promethues" rel="tag">Promethues</a>
            
             ,  
            <a class="tag-link" href="/tags/python" rel="tag">Python</a>
            
        </div>
        
      </div>
    </header>

  

    <div class="content" itemprop="articleBody" style="width: 120%;margin-left: -10%;">
      <h1 id="å‰è¨€">å‰è¨€</h1>
<p>å¯è§†åŒ–å¹³å°æœ‰å¾ˆå¤šï¼Œæœ€é‡è¦çš„æ˜¯é€‰æ‹©ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ–¹æ¡ˆï¼Œè´¹ç”¨ä½ã€å­¦ä¹ æ›²çº¿ä½ã€æ˜“äºä¸Šæ‰‹ã€é›†æˆæ€§å¥½è¿™äº›éƒ½æ˜¯åŠ åˆ†é¡¹ã€‚ä¼—æœ›æ‰€å½’ï¼Œæˆ‘é€‰æ‹©äº† Grafanaã€‚</p>
<h2 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h2>
<p>è®©æˆ‘ä»¬åº·åº· Grafana æ˜¯æ€æ ·çš„ï¼š</p>
<ol>
<li>å…è´¹ã€‚Grafana æ˜¯ä¸€ä¸ª<strong>å¼€æº</strong>çš„ç‹¬ç«‹æ—¥å¿—åˆ†æå’Œç›‘è§†å·¥å…·ã€‚</li>
<li>å¼€å‘å°‘å¯ç›´æ¥ç”¨ã€‚é¢å‘åˆ†æå¸ˆå’Œä¸€èˆ¬ä½¿ç”¨è€…ï¼Œä¸€èˆ¬<strong>ä¸éœ€è¦åšå¤šå°‘ç¼–ç </strong>å·¥ä½œå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ†ææ•°æ®ã€æ­å»ºå¯è§†åŒ–ç³»ç»Ÿã€‚</li>
<li>ç•Œé¢ç‚«é…·ã€‚æ¥çœ‹çœ‹å®˜ç½‘çš„å±•ç¤º <a href="https://grafana.com/grafana/">Grafana å®˜ç½‘æ¦‚è¿°</a></li>
<li>ä¸°å¯Œé›†æˆã€‚Grafana æ˜¯è·¨å¹³å°å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸å„ç§å¹³å°å’Œæ•°æ®åº“çš„é›†æˆï¼ŒæŒ InfluxDBï¼ŒAWSï¼ŒMySQLï¼ŒPostgreSQL ç­‰ã€‚</li>
<li>ç”¨æˆ·äº¤äº’ä½“éªŒå¥½ã€‚å±•ç¤ºè¿ç»­<strong>å®æ—¶ç›‘æ§</strong>æŒ‡æ ‡ï¼ˆå¦‚ CPU è´Ÿè½½ï¼Œå†…å­˜ï¼‰ã€å¯¹æ•°æ®æä¾›è‡ªå®šä¹‰<strong>å®æ—¶è­¦æŠ¥</strong>ã€æä¾›åŸºäºæ•°æ®åº“åŠå…¶æŸ¥è¯¢è¯­æ³•çš„<strong>å‘½ä»¤åˆ—ç•Œé¢</strong>ã€‚</li>
</ol>
<h2 id="å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨">å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨</h2>
<p>ä¸€ä¸ªå¯è§†åŒ–å¹³å°ï¼Œé‡è¦çš„æ˜¯æœ‰æ•°æ®æ¥åšæ”¯æ’‘ï¼Œåƒä¸Šé¢æ‰€è¯´çš„æ•°æ®åº“ã€‚æœ¬æ–‡é‡‡å–å…·æœ‰çµæ´»æŸ¥è¯¢å’Œå®æ—¶æŠ¥è­¦æ„å»ºçš„æ—¶åºæ•°æ®åº“ <strong>promethues</strong> æ¥ä½œä¸ºæ•°æ®ç®¡ç†ç«¯ã€‚</p>
<p>ä½œä¸ºåœ£ç«çš„ä¼ äººï¼Œpromethues æœ‰ç€å„ç§é‡‡é›†å™¨å°å¼Ÿï¼Œå¦‚æœåŠ¡å™¨èµ„æºé‡‡é›†å™¨ node-exporterã€è¿›ç¨‹èµ„æºé‡‡é›†å™¨ process-exporterã€æœåŠ¡èµ„æºé‡‡é›†å™¨ blackbox-exporterï¼Œ
æœ‰äº†è¿™äº›é‡‡é›†å™¨å°±å¯ä»¥ç›´æ¥æ­å»ºèµ·ç›‘æ§å’Œè­¦æŠ¥</p>
<p><strong><a href="https://grafana.com/grafana/dashboards/8919">æœåŠ¡å™¨ç›‘æ§</a></strong>
<img src="https://grafana.com/api/dashboards/8919/images/8260/image" alt="img"></p>
<p><strong><a href="https://grafana.com/grafana/dashboards/249">è¿›ç¨‹ç›‘æ§</a></strong>
<img src="https://grafana.com/api/dashboards/249/images/439/image" alt="img"></p>
<p><strong><a href="https://grafana.com/grafana/dashboards/9965">æœåŠ¡ç›‘æ§</a></strong>
<img src="https://grafana.com/api/dashboards/9965/images/6248/image" alt="img"></p>
<p>æœ€åå†é…æœ‰ docker å¾®æœåŠ¡ï¼Œä½ çš„ç›‘æ§å’Œè­¦æŠ¥å¹³å°å°±èƒ½å¤Ÿä¸€é”®éƒ¨ç½²èµ·æ¥äº†ã€‚
<img src="https://img2.baidu.com/it/u=1337695316,4281005371&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg" alt="img"></p>
<h2 id="å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–">å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–</h2>
<p>æœ‰äº†å„ç§é‡‡é›†å™¨ï¼Œå…¶å®èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†é€šç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œä½†å¾€å¾€æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚</p>
<p>ç”¨åˆ°äº†èƒ¶æ°´è¯­è¨€ Python åœ¨ promethues çš„æ¨¡å— promethues_clientï¼Œå°±èƒ½å¼€å§‹å®šåˆ¶äº†ï¼</p>
<h2 id="åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾">åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾</h2>
<p>å…¶å®è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æœ€å…ˆæƒ³å– â€œfuck the bar chartâ€ï¼Œå…¶ä»–å®šåˆ¶åŒ–çš„æ•°æ®ï¼Œè¡¨æ ¼ã€é¥¼å›¾ã€æŠ˜çº¿å›¾éƒ½æ˜¯èƒ½å¤Ÿåœ¨ç²—ç•¥ç†Ÿæ‚‰ Grafana åå¯ä»¥è‡ªå·±ä¸Šæ‰‹åšçš„ã€‚</p>
<p>è€Œè¿™ä¸ªæ¡å½¢å›¾å›°æ‰°äº†æˆ‘æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå„ç§æ‰¾æ’ä»¶ã€æ¢ç‰ˆæœ¬ã€è°ƒæ ¼å¼ã€é€‰å±•ç¤ºæ–¹å¼ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç†æƒ³æ•ˆæœï¼š</p>
<p><img src="https://grafana.com/static/img/docs/bar-chart-panel/bar-chart-example-v8-0.png" alt="img"></p>
<p>ä»Šå¤©æ¥å½»åº•æå®šè¿™ä¸ªé—®é¢˜ï¼ï¼</p>
<h3 id="ç‰ˆæœ¬">ç‰ˆæœ¬</h3>
<table>
<thead>
<tr>
<th style="text-align:center">å·¥å…·</th>
<th style="text-align:left">ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Docker</td>
<td style="text-align:left">1.13.1</td>
</tr>
<tr>
<td style="text-align:center">Go</td>
<td style="text-align:left">1.16.5</td>
</tr>
<tr>
<td style="text-align:center">Python</td>
<td style="text-align:left">3.6.8</td>
</tr>
<tr>
<td style="text-align:center">Promethues</td>
<td style="text-align:left">2.28.1</td>
</tr>
<tr>
<td style="text-align:center">Grafana</td>
<td style="text-align:left">v8.1.0-30031preï¼ˆè¿™ä¸ªå¤ªé‡è¦äº†ï¼ï¼ï¼ï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="çœ‹å®˜ç½‘çœ‹å®˜ç½‘çœ‹å®˜ç½‘">çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘</h3>
<ol>
<li>é¦–å…ˆéœ€è¦æœ‰è¡¨æ ¼åŒ–çš„æ•°æ®ï¼Œå¹¶ä¸”è¿™äº›æ•°æ®éƒ½æ˜¯ number ç±»å‹ï¼Œè€Œä¸æ˜¯ stringï¼Œä½ çš„ Grafana Metrics browser å¯ä»¥é•¿è¿™æ ·ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#75715e"># data1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Chrome&#34;</span><span style="color:#f92672">}</span> 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#75715e"># data2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Safari&#34;</span><span style="color:#f92672">}</span> 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span style="color:#75715e"># data3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>custom_market<span style="color:#f92672">{</span>browser_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Edge&#34;</span><span style="color:#f92672">}</span> 
</code></pre></div><ol start="2">
<li>Format æ ¼å¼éƒ½æ˜¯ Tableï¼ŒInstant ç¬é—´å€¼éƒ½è¦æ‰“å¼€ã€‚æœ€ç»ˆä½ è·å¾—äº†åƒè¿™æ ·çš„è¡¨æ•°æ®ï¼ˆæ‰“å¼€ Tabel View å¯ä»¥çœ‹åˆ°ï¼‰</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">æµè§ˆå™¨</th>
<th style="text-align:center">å¸‚åœºå æ¯”</th>
<th style="text-align:center">CPUå ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Chrome</td>
<td style="text-align:center">65.88</td>
<td style="text-align:center">5%</td>
</tr>
<tr>
<td style="text-align:center">Safari</td>
<td style="text-align:center">18.50</td>
<td style="text-align:center">3%</td>
</tr>
<tr>
<td style="text-align:center">Edge</td>
<td style="text-align:center">3.29</td>
<td style="text-align:center">3.4%</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>
<p>åœ¨ Transform ä¸­è½¬æ¢å±•ç¤ºæ–¹å¼ã€‚é€‰æ‹© Concatenate fields å†é€‰æ‹© â†’ Copy frame name to field name</p>
</li>
<li>
<p>åœ¨ Transform ä¸­é€‰æ‹©éœ€è¦å±•ç¤ºçš„æ•°æ®ã€‚é€‰æ‹© Filter by nameï¼Œç‚¹é€‰ä½ éœ€è¦å±•ç¤ºçš„æ•°æ®</p>
</li>
<li>
<p>æœ€åï¼Œè¿˜æ˜¯åœ¨ Transform ä¸­é‡å‘½åå­—æ®µã€‚é€‰æ‹© Organize fieldsï¼Œå°†è‹±æ–‡è½¬åŒ–ä¸ºä¸­æ–‡å§ï¼ˆå¦‚æœä½ éœ€è¦çš„è¯ï¼‰ã€‚</p>
</li>
</ol>
<p>å®Œç¾æ”¶å·¥ï¼å°±å¾—åˆ°äº†ä¸Šå›¾çš„å³è¾¹éƒ¨åˆ†æ˜¾ç¤ºçš„ç›¸åŒæ ·å¼ã€‚</p>
<p><strong>å‚è€ƒé“¾æ¥</strong></p>
<p>[1] <a href="https://grafana.com/docs/grafana/latest/panels/visualizations/bar-chart/">å®˜ç½‘ï¼šBar chart</a></p>
<p>[2] <a href="https://chartio.com/learn/charts/bar-chart-complete-guide/">A Complete Guide to Bar Charts</a></p>
<p>[3] <a href="https://chartio.com/learn/charts/stacked-bar-chart-complete-guide/">A Complete Guide to Stacked Bar Charts</a></p>
<p>[4] <a href="https://cdn2.hubspot.net/hubfs/392937/How-To-Choose-The-Right-Data-Visualization.pdf">ã€ŠHow to Choose the Right Data Visualizationã€‹</a></p>
<h1 id="å…¶ä»–è¡¥å……">å…¶ä»–è¡¥å……</h1>
<h2 id="1-åŒ¿åè®¿é—®">1. åŒ¿åè®¿é—®</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>docker run 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    -itd --name grafana -p 3000:3000 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    -e <span style="color:#e6db74">&#34;GF_AUTH_PROXY_ENABLED=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    -e <span style="color:#e6db74">&#34;GF_AUTH_ANONYMOUS_ENABLED=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>    -e <span style="color:#e6db74">&#34;GF_SECURITY_ALLOW_EMBEDDING=true&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    grafana/grafana
</code></pre></div><p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ï¼šGF_SECURITY_ALLOW_EMBEDDING,ç”¨äºç½‘é¡µåµŒå¥—çš„ã€‚å¦‚æœéœ€è¦åœ¨ iframe ä¸­åµŒå¥— Grafanaï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªå˜é‡è®¾ç½®ä¸ºtrueï¼›</p>
<h2 id="2-å…¨å±åŒ–å±•ç¤º">2. å…¨å±åŒ–å±•ç¤º</h2>
<p>æƒ³è®© Grafana åˆ†äº«çš„é¢æ¿å…¨å±åŒ–ï¼Œåœ¨åˆ†äº«çš„ URL åé¢è·Ÿä¸Š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>&amp;kiosk<span style="color:#f92672">=</span>true
</code></pre></div><p>å†åŠ ä¸ŠæŒ‰é’® <strong>F11</strong>ï¼Œé£Ÿç”¨æ•ˆæœæ›´ä½³ã€‚</p>
<h2 id="3-æ”¯æŒ-emoji-å•¦-">3. æ”¯æŒ Emoji å•¦ ğŸ˜„</h2>
<p>è™½ç„¶ Grafana çš„æ˜¾ç¤ºéƒ½æ˜¯æ–‡æœ¬ä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡ ğŸ¤”ï¼Œä½†æ˜¯æ”¯æŒ emoji ï¼ï¼ï¼âœŒ</p>
<p>[1] <a href="http://emojihomepage.com/">emoji ç‚¹å‡»å¤åˆ¶ç‰ˆ</a> ğŸ‘ˆ</p>
<p>[2] <a href="https://unicode.org/emoji/charts/full-emoji-list.html">emoji å¤§å…¨ç‰ˆ</a> ğŸ”®</p>
<h1 id="ç»“è¯­">ç»“è¯­</h1>
<p>ä»Šå¤©å…³äº Grafana çš„åˆ†äº«å°±åˆ°è¿™é‡Œç»“æŸå•¦ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»æˆ‘ ğŸ¤™</p>

    </div>
  </article>
  


  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">ä¸»é¡µ</a></li>
         
          <li><a href="/posts">æ–‡ç« </a></li>
         
          <li><a href="/tags">å½’æ¡£</a></li>
         
          <li><a href="/about">å…³äº</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#ç‰¹ç‚¹">ç‰¹ç‚¹</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨">å‡†å¤‡å·¥ä½œ-é‡‡é›†å™¨</a></li>
    <li><a href="#å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–">å‡†å¤‡å·¥ä½œ-å®šåˆ¶åŒ–</a></li>
    <li><a href="#åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾">åˆ¶ä½œä¸€ä¸ªæ¡å½¢å›¾</a>
      <ul>
        <li><a href="#ç‰ˆæœ¬">ç‰ˆæœ¬</a></li>
        <li><a href="#çœ‹å®˜ç½‘çœ‹å®˜ç½‘çœ‹å®˜ç½‘">çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘ï¼çœ‹å®˜ç½‘</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#1-åŒ¿åè®¿é—®">1. åŒ¿åè®¿é—®</a></li>
    <li><a href="#2-å…¨å±åŒ–å±•ç¤º">2. å…¨å±åŒ–å±•ç¤º</a></li>
    <li><a href="#3-æ”¯æŒ-emoji-å•¦-">3. æ”¯æŒ Emoji å•¦ ğŸ˜„</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin fa-lg" aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
=======
<ul>
  
  
    
  
  

  


  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="Github">
        <i class="fab fa-github fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="QQ">
      <i class="fab fa-qq fa-lg" aria-hidden="true"></i>
    </a>
  </li>




  <li>
    <a class="icon" href="mailto:?subject=Grafana%20%e6%9d%a1%e5%bd%a2%e5%9b%be%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2fjupiterxue.github.io%2fposts%2f2021-07-29-grafana-bar-chart%2f" aria-label="å¾®ä¿¡">
      <i class="fab fa-weixin fa-lg" aria-hidden="true"></i>
    </a>
  </li>










  


























































</ul>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  JupiterXue 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">ä¸»é¡µ</a></li>
         
        <li><a href="/posts">æ–‡ç« </a></li>
         
        <li><a href="/tags">å½’æ¡£</a></li>
         
        <li><a href="/about">å…³äº</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>



</html>
>>>>>>> 0cae884533b7a5e0cf3eb8be746627712e680e3e
